(this["webpackJsonpemail-subscription-list-ts"]=this["webpackJsonpemail-subscription-list-ts"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),i=n.n(c),r=n(10),s=n.n(r),l=(n(82),n(45)),o=n(153),j=n(154),u=n(157),b=n(156),d=n(152),h=n(155),m=n(151),g=n(159),O=n(158),x=n(149),p=n(65),f=n.n(p),v=n(147),C=n(144),S=Object(C.a)((function(e){return{root:{marginLeft:"5vw",marginRight:"5vw"},button:{margin:"1.2em",backgroundColor:e.palette.success.main},onRight:{textAlign:"center"},onLeft:{display:"flex",justifyContent:"flex-end"}}})),w=function(e){var t=e.clickButton,n=S();return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("div",{className:n.root,children:Object(a.jsxs)(v.a,{container:!0,children:[Object(a.jsx)(v.a,{item:!0,xs:9,className:n.onRight,children:Object(a.jsx)("h2",{children:"Email Subscription Database"})}),Object(a.jsx)(v.a,{item:!0,xs:3,className:n.onLeft,children:Object(a.jsx)(x.a,{onClick:t,variant:"contained",color:"primary",className:n.button,startIcon:Object(a.jsx)(f.a,{}),children:"Save CSV"})})]})})})},N=n(20),k=n(150),P=n(51),_=n.n(P),M=n(53),y=n.n(M),L=n(52),T=n.n(L),F=n(50),U=n.n(F),R=Object(C.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(5)}}})),A=function(e){var t=e.count,n=e.onChangePage,c=e.page,i=e.rowsPerPage,r=R(),s=Object(N.a)();return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:r.root,children:[Object(a.jsx)(k.a,{onClick:function(e){n(e,0)},disabled:0===c,"aria-label":"First page",children:"rtl"===s.direction?Object(a.jsx)(U.a,{}):Object(a.jsx)(_.a,{})}),Object(a.jsx)(k.a,{onClick:function(e){n(e,c-1)},disabled:0===c,"aria-label":"Previous page",children:"rtl"===s.direction?Object(a.jsx)(T.a,{}):Object(a.jsx)(y.a,{})}),Object(a.jsx)(k.a,{onClick:function(e){n(e,c+1)},disabled:c>=Math.ceil(t/i)-1,"aria-label":"Last page",children:"rtl"===s.direction?Object(a.jsx)(y.a,{}):Object(a.jsx)(T.a,{})}),Object(a.jsx)(k.a,{onClick:function(e){n(e,Math.max(0,Math.ceil(t/i)-1))},disabled:c>=Math.ceil(t/i)-1,"aria-label":"Last page",children:"rtl"===s.direction?Object(a.jsx)(_.a,{}):Object(a.jsx)(U.a,{})})]})})},B=n(54),E=n.n(B),I=n(66),D=n(67),J=n.n(D),W={getAll:function(){var e=Object(I.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("/db/customers");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},V=function(e){var t="";return t+="timestamp;email;utm_source;utm_medium;utm_term;utm_campaign;utm_content\n",t+=e.map((function(e){var t="";return t+=e.timestamp,t+=";",t+=e.email.toString(),t+=";",t+=e.utm_source.toString(),t+=";",t+=e.utm_medium.toString(),t+=";",t+=e.utm_term.toString(),t+=";",t+=e.utm_campaign.toString(),t+=";",t+=e.utm_content.toString()})).join("\n")},q=n(5),z=Object(C.a)((function(e){return{root:{width:"100%",display:"flex",justifyContent:"center"},container:{margin:"0 1vw"},table:{minWidth:650},headerContainer:{backgroundColor:e.palette.info.main},header:{fontWeight:"bold",color:e.palette.common.white}}})),G=Object(q.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(m.a),H=function(){var e=z(),t=Object(c.useState)([]),n=Object(l.a)(t,2),i=n[0],r=n[1],s=Object(c.useState)(0),x=Object(l.a)(s,2),p=x[0],f=x[1],v=Object(c.useState)(8),C=Object(l.a)(v,2),S=C[0],N=C[1],k=S-Math.min(S,i.length-p*S);Object(c.useEffect)((function(){W.getAll().then((function(e){r(e)}))}),[]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{clickButton:function(){var e=document.createElement("a"),t=new Blob([V(i)],{type:"text/csv;charset=UTF-8"});e.href=window.URL.createObjectURL(t),e.download="email-subscription-list.csv",document.body.appendChild(e),e.click()}}),Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(d.a,{component:o.a,className:e.container,children:Object(a.jsxs)(j.a,{className:e.table,children:[Object(a.jsx)(h.a,{className:e.headerContainer,children:Object(a.jsxs)(m.a,{children:[Object(a.jsx)(b.a,{className:e.header,children:"Time Stamp"}),Object(a.jsx)(b.a,{className:e.header,align:"right",children:"Email"}),Object(a.jsx)(b.a,{className:e.header,align:"right",children:"UTM Source"}),Object(a.jsx)(b.a,{className:e.header,align:"right",children:"UTM Medium"}),Object(a.jsx)(b.a,{className:e.header,align:"right",children:"UTM Term"}),Object(a.jsx)(b.a,{className:e.header,align:"right",children:"UTM Campaign"}),Object(a.jsx)(b.a,{className:e.header,align:"right",children:"UTM Content"})]})}),Object(a.jsxs)(u.a,{children:[(S>0?i.slice(p*S,p*S+S):i).map((function(e,t){return Object(a.jsxs)(G,{children:[Object(a.jsx)(b.a,{component:"th",scope:"row",children:e.timestamp}),Object(a.jsx)(b.a,{align:"right",children:e.email}),Object(a.jsx)(b.a,{align:"right",children:e.utm_source}),Object(a.jsx)(b.a,{align:"right",children:e.utm_medium}),Object(a.jsx)(b.a,{align:"right",children:e.utm_term}),Object(a.jsx)(b.a,{align:"right",children:e.utm_campaign}),Object(a.jsx)(b.a,{align:"right",children:e.utm_content})]},t)})),k>0&&Object(a.jsx)(m.a,{style:{height:53*k},children:Object(a.jsx)(b.a,{colSpan:6})})]}),Object(a.jsx)(O.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)(g.a,{rowsPerPageOptions:[5,8,12,{label:"All",value:-1}],colSpan:3,count:i.length,rowsPerPage:S,page:p,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){f(t)},onChangeRowsPerPage:function(e){N(Number(e.target.value)),f(0)},ActionsComponent:A})})})]})})})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,160)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(H,{})}),document.getElementById("root")),K()},82:function(e,t,n){}},[[106,1,2]]]);
//# sourceMappingURL=main.3be869aa.chunk.js.map